function outsideClick(e){if(e.target.closest(".modal-inner"))return;let t=document.querySelector(".modal-visible");t&&closeModal()}function escKey(e){27==e.keyCode&&closeModal()}function closeClick(e){e.target.classList.contains("closeModal")&&closeModal()}function trapTabKey(e){let t=document.querySelector(".vanilla-modal"),l=t.querySelectorAll(["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])',]),n=Array(...l);if(0!==n.length){if(n=n.filter(e=>null!==e.offsetParent),t.contains(document.activeElement)){let i=n.indexOf(document.activeElement);e.shiftKey&&0===i&&(n[n.length-1].focus(),e.preventDefault()),!e.shiftKey&&n.length>0&&i===n.length-1&&(n[0].focus(),e.preventDefault())}else n[0].focus()}}function closeModal(){let e=document.querySelector(".vanilla-modal");e&&(e.classList.remove("modal-visible"),document.getElementById("modal-content").innerHTML="",document.getElementById("modal-content").style=""),document.removeEventListener("keydown",escKey),document.removeEventListener("click",outsideClick,!0),document.removeEventListener("click",closeClick),document.removeEventListener("keydown",trapTabKey)}const modal={init:function(){let e=document.createElement("div");e.classList.add("vanilla-modal");let t=`         
         <div class="modal">
         <div class="modal-inner"
         ><div id="modal-content"></div></div></div>`;e.innerHTML=t,document.body.appendChild(e)},open:function(e,t={default:null}){let l=document.querySelector(".vanilla-modal");l||(console.log("there is no vanilla modal class"),modal.init(),l=document.querySelector(".vanilla-modal"));let n=document.getElementById(e),i=n.cloneNode(!0);i.classList.add("current-modal"),i.style="",document.getElementById("modal-content").appendChild(i),!t.default&&t.width&&t.height&&(document.getElementById("modal-content").style.width=t.width,document.getElementById("modal-content").style.height=t.height),l.classList.add("modal-visible"),document.addEventListener("click",outsideClick,!0),document.addEventListener("keydown",escKey),document.addEventListener("keydown",trapTabKey),document.getElementById("modal-content").addEventListener("click",closeClick)},close:function(){closeModal()}};